<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floating ASCII Duck</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            background: black;
            overflow: hidden;
            position: relative;
            boxShadow: inset 0 0 200px 100px rgba(255, 255, 255, 0.3);
        }

        #glow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /*box-shadow: inset 0 0 200px 100px rgba(255, 255, 255, 0.3);*/
            pointer-events: none;
        }

        #duck {
            position: absolute;
            font-family: 'Courier New', monospace;
            color: white;
            font-size: 24px;
            white-space: pre;
            line-height: 1.2;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body>
    <div id="glow"></div>
    <pre id="duck">>(o)__
 (_~_/</pre>

    <script>
        let mouseX = 0;
        let mouseY = 0;

        // Update position whenever mouse moves
        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        let dim = window.innerWidth;
        if (window.innerHeight < dim) {
            dim = window.innerHeight;
        };  
        const duck = document.getElementById('duck');
        // const duckbox = duck.getBoundingClientRect();
        const glow = document.getElementById('glow');
        let t = 0;
        const r = Math.sqrt(Math.pow(window.innerWidth,2) + Math.pow(window.innerHeight,2))*0.01;
        // const r = 10
        const dt = 0.01;
        let right = Math.PI
        let left = 0
        let duckrot = left + 1
        let duckrotdes = right
        let acc = 100
        let dir = 0
        let duckvel = 0
        let duckacc = 0
        let duckdampen = 0.03

        function relativeAngle(target, current) {
            let diff = (target - current) % (2 * Math.PI);
            if (diff > Math.PI) diff -= 2 * Math.PI;
            if (diff < -Math.PI) diff += 2 * Math.PI;
            return diff;
        }
        function rand(min = -1, max = 1) {
            return Math.random()*(max-min)+min  
        }

        function animate() {
            const cx = window.innerWidth / 2;
            const cy = window.innerHeight / 2;

            if ( mouseX > window.innerWidth/2){
                duckrotdes = right
            } else {
                duckrotdes = left
            };

            duckrot = duckrot % (2 * Math.PI);

            let mag = relativeAngle(duckrotdes, duckrot)
            if (Math.abs(mag) > 0.1) {
                dir = mag/Math.abs(mag)
            } else {
                dir = 0
            }


            let hort = 2*(cx - mouseX)/window.innerWidth
            let vert = 2*(cy - mouseY)/window.innerHeight
            let h2 = Math.abs(hort)

            acc = 500*Math.abs(hort)

            duckacc = acc * dir
            // duckacc = Math.sin(mag)
            duckvel += duckacc * dt
            duckvel = duckvel * ((1-duckdampen)+duckdampen*mag/Math.PI)
            duckrot += duckvel * dt
            
            let dx = Math.sin(t) * r;
            let dy = Math.sin(t*0.75) * r;
            duck.style.fontSize = 24+Math.random()*1 + 'px';
            duck.style.color = `rgba(${255}, ${220+35*Math.random()}, ${200}, 255)`;
            // duck.style.transform = `translate(${dx}px, ${dy}px) translate(-50%, -50%) scaleX(${Math.cos(duckrot)})`;
            duck.style.transform = `translate(${dx}px, ${dy}px) translate(-50%, -50%) scale(${Math.cos(duckrot)}, ${1-0.2*Math.abs(vert)}) skewY(${Math.sin(duckrot)*vert*0.5}rad)`;
            duck.style.textShadow = `
                    0px 0px ${100-rand(80,100)*(h2)}px green,
                    0px 0px ${80 -rand(70,80) *(h2)}px white,
                    0px 0px ${60 -rand(50,60) *(h2)}px yellow,
                    0px 0px ${50 -rand(40,50) *(h2)}px white,
                    0px 0px ${40 -rand(30,40) *(h2)}px cyan,
                    ${40*rand()*hort}px ${5*rand()}px 3px red,
                    ${20*rand()*hort}px ${5*rand()}px 3px cyan
                    `
            // glow.style.
            
            glowColor = [255, 255, 255]
            glow.style.boxShadow = `inset 0 0 ${200}px ${(Math.sin(t)*0.5+0.5)*dim/10}px rgba(${rand(200,255)}, ${rand(100,200)}, ${rand(150,255)}, ${Math.random()*0.01+(Math.sin(t*2)+2)*0.03})`;

            t += dt;
            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>



<!-- 




,.,,.,,v,.v,.V.v,.,,.,v,.,.v.,.V,..
.  `  `
- v ,  `, _
           \_______.-------  

 -->