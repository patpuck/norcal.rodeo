<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>norcal.rodeo</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            min-height: 100vh;
            background: black;
            overflow-x: hidden;
            overflow-y: hidden;
            /*position: relative;*/
            position: fixed;
            boxShadow: inset 0 0 200px 100px rgba(255, 255, 255, 0.3);
        }

        #spacer {
            position: relative;
        }

        #glow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /*box-shadow: inset 0 0 200px 100px rgba(255, 255, 255, 0.3);*/
            pointer-events: none;
        }

        #rightdesc {
            position: fixed;
            top: 0;
            left: 100%;
            width: 25%;
            height: 100vh;
            /*height: 100%;*/
            flex-direction: column;
            overflow-y: scroll; 
            overflow-x: hidden;
            pointer-events: auto;
            /*scrollbar-width: thin;*/
            /*scrollbar-color: rgba(255, 0, 0, 255);*/
            &::-webkit-scrollbar {
                display: none;
            }

            /* 2. Hide for Firefox */
            scrollbar-width: none;

            /* 3. Hide for IE and old Edge */
            -ms-overflow-style: none;
        }
        #rightdesc a {
            color: inherit;
            text-decoration: none;
        }

        .duh {
            position: absolute;
            font-family: 'Courier New', monospace;
            color: white;
            font-size: 24px;
            /*white-space: pre;*/
            line-height: 1.2;
            /*top: 50%;*/
            /*left: 50%;*/
            /*transform: translate(-50%, -50%);*/
        }
    </style>
</head>
<body>
    <div id="glow"></div>
    <div id="rightdesc"></div>

    <script>
        window.mobileCheck = function() {
          let check = false;
          (function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);
          return check;
        };

        let duck = document.createElement('pre');
        duck.className = 'duh';
        document.body.appendChild(duck);

        let t1 = document.createElement('a');
        t1.className = 'duh';
        t1.href = "https://norcal.rodeo";
        t1.textContent = 'norcal.rodeo';
        document.body.appendChild(t1);
        let t1hov = 0;
        t1.onmouseenter = () => t1hov = 1;
        t1.onmouseleave = () => t1hov = 0;

        let t2 = document.createElement('a');
        t2.className = 'duh';
        t2.href = "http://mc.norcal.rodeo:8070/";
        t2.textContent = 'bluemap';
        document.body.appendChild(t2);
        let t2hov = 0;
        t2.onmouseenter = () => t2hov = 1;
        t2.onmouseleave = () => t2hov = 0;

        let cam = document.createElement('img');
        cam.src = "rightwardshift.png"; 
        cam.className = 'duh';          
        cam.style.width = '200px';     
        cam.style.objectFit = 'fill';
        // photo.style.filter = 'brightness(1)'; 
        document.body.appendChild(cam);

        // let spacer = document.createElement('div');
        // document.body.appendChild(spacer);
        // spacer.style.position = `relative`;
        // spacer.style.background = `rgba(255, 0, 0, 255)`;
        // spacer.style.top = '1000px';
        // spacer.style.width = `200px`;
        // spacer.style.height = `200px`;

        let rdc = document.createElement('div'); // rdc = rightward description content :>
        rdcpad = 40
        rdc.style.padding = `${rdcpad}px`; 
        rdc.style.fontFamily = "'Courier New', monospace";
        rdc.style.pointerEvents = 'auto';
        rdc.innerHTML = `
            <h2 id="rdc-title">norcal.rodeo is my minecraft server</h2><br>
            <div id="rdc-motd" style="
                width: 1000px;
                height: 30px;
                background: linear-gradient(rgba(0,0,0,1), rgba(0,0,0,0.5)), url('motd.png');
                background-size: cover;
                background-position: center;
            "></div><br>
            <p>it's mostly for irls via the <a href='https://discord.com/channels/1025596024112291861/1103899084739317801'><u>sonoma county furries' gaming channel</u></a> but invite anyone u want</p>
            plugins make it so that:<ul>
                <li>ur bedrock friends can play too :></li>
                <li>thers /tpa /home etc</li>
                <li>chests loot is instanced per-player</li>
                <li>sleeping warps time instead of skipping</li>
                <li>you can make maps from images</li>
                <li>murdered player heads drop</li>
                <li>death items are stored in a grave</li>
                <li>terralith etc; the world is prettier</li>
                <li>w compatibility for som client mods<ul>
                    <li>appleskin, axiom, voicechat uhh</li>
                    <li>jade, sodium, etcblablabla</li>
                </ul></li>
                <li>more but i forgot</li>
            </ul>`;
        const rdcMotd = rdc.querySelector('#rdc-motd');

        // Append it to the rightdesc div instead of the body
        document.getElementById('rightdesc').appendChild(rdc);

        let mouseX = 0;
        let mouseY = 0;

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        function w() {
            return window.innerWidth
        }
        function h() {
            return window.innerHeight
        }

        // const duck = document.getElementById('duck');
        // const duckbox = duck.getBoundingClientRect();
        const glow = document.getElementById('glow');
        let t = 0;
        // const r = 10
        const dt = 0.01;
        let right = Math.PI
        let left = 0
        let duckrot = left
        let duckrotdes = right
        let rx = 0
        let ry = 0
        let vert = 0
        let hort = 0
        let acc = 100
        let dir = 0
        let duckvel = 0
        let duckacc = 0
        let duckdampen = 0.03
        let dx = 0
        let dy = 0
        let vx = 0
        let vy = 0
        let ldamp = 0.1
        let starting = true
        let nextblink = 0.5
        let lastblink = 0
        let holdblink = 0.2
        let spinscore = 0
        let torpor = 0
        let budgingright = 0
        let leftbudge = 0
        let rightbudge = 0
        let forcebudge = false
        let teensy = 0 // r we in a phone
        let fps = 120 // default 120
        mouseX = w()/4
        mouseY = h()/2

        function relativeAngle(target, current) {
            let diff = (target - current) % (2 * Math.PI);
            if (diff > Math.PI) diff -= 2 * Math.PI;
            if (diff < -Math.PI) diff += 2 * Math.PI;
            return diff;
        }
        function rand(min = -1, max = 1) {
            return Math.random()*(max-min)+min  
        }

        function animate() {

            // if (t > 2) {return}

            // duck :


            let cx = w() / 2;
            let cy = (h() / 2);
            if (starting) {dx = cx; vx = cx;dy = cy; vy = cy; starting = false}
            if (w() <= h()) { teensy = 1 } else { teensy = 0 } // teensaaaaaaay
            cx += teensy ? 0 : leftbudge/2 -rightbudge/2
            cy += teensy ? leftbudge/2 -rightbudge/2 : 0

            let dim = w();
            if (h() < dim) {
                dim = h();
            };  
            perf = window.mobileCheck() // proportion of performance ,,, like an LOD


            duckrot = duckrot % (2 * Math.PI);
            // let dx = cx + Math.sin(t) * dim * 0.1;
            // let dy = cy + Math.sin(t*0.75) * dim * 0.1;

            rx = (mouseX - dx)
            ry = (mouseY - dy)
            hort = Math.max(-1, Math.min(2*rx/w(), 1)) // clamped cuz it was buggin crazy
            vert = Math.max(-1, Math.min(2*ry/h(),1))
            // console.log(mouseY, dy, ry)

            let touchy = Math.max(0, (1-Math.abs(hort)) * (1-Math.abs(vert)) - 0.6)*dim/10

            const rad = 0.03
            let desx = cx + Math.sin(t*1.00) * dim * rad
            let desy = cy + Math.sin(t*0.75) * dim * rad - dim/10
            desx += touchy * (-hort)*25
            desy += touchy * (-vert)*10
            dx = desx
            dy = desy
            vx = (1-ldamp)*vx + ldamp*desx
            vy = (1-ldamp)*vy + ldamp*desy
            // vx = Math.max(dim/4, Math.min(vx, window.innerWidth -dim/4))
            // vy = Math.max(dim/4, Math.min(vy, window.innerHeight-dim/4))

            if ( hort < 0 ){ duckrotdes = left } else { duckrotdes = right };

            camr = cam.getBoundingClientRect()
            if ( (mouseX > camr.left) & (mouseX < (camr.left + camr.width)) & (mouseY > camr.top) & (mouseY < (camr.top + camr.height)) ) {
                forcebudge = true
            } else if ((!teensy & (mouseX < w()*2/3)) || (teensy & (mouseY < (h()*2/3)))) {
                forcebudge = false
            }
            if (forcebudge) { budgingright = budgingright*0.9 + 0.1 } else { budgingright = budgingright*0.9 }

            if (t > (lastblink + nextblink + holdblink)) {
                lastblink = t
                holdblink = rand(0, 0.07)
                nextblink = 2*rand(0,1)**2 + holdblink
            }

            spinscore = Math.max(0, Math.min(spinscore-0.01, 8))  
            if (Math.abs(duckvel) > Math.PI*7) {
                spinscore += 0.05
            }

            if (spinscore > 6) {
                duck.textContent = "-(x)__\n (_~_/";
                if (torpor < 1) { duckvel = 2*duckvel } // make him spin out
                torpor = 1
            } else if (spinscore > 3) {
                duck.textContent = "-(o)__\n (_~_/";
                if (torpor == 1) { torpor = 0.995 } // how fast the duck gonna spin just after waking back up
            } else if (((t > lastblink + nextblink) & (t < (lastblink + nextblink + holdblink)))) {
                duck.textContent = ">(-)__\n (_~_/";
            } else {
                duck.textContent = ">(o)__\n (_~_/";
                torpor = 0
            }

            let mag = relativeAngle(duckrotdes, duckrot)
            if (Math.abs(mag) > 0.1) {
                dir = mag/Math.abs(mag)
            } else {
                dir = 0
            }

            let h2 = Math.abs(hort)
            acc = 500*Math.abs(hort)
            let torp = 1-torpor

            duckacc = acc * dir
            // duckacc = Math.sin(mag)
            duckvel += duckacc * dt * (1-torpor)
            if (torpor < 1) {
                duckvel = duckvel * ((1-duckdampen)+duckdampen*mag/Math.PI)
            } else {
                duckvel = 0.985 * duckvel
            }
            duckrot += duckvel * dt

            // duck.textContent = `>(o)__\n (_~_/`

            function shad(o = 1, vig = h2) { 
                return  `
                    0px 0px ${100-rand(80,100)*(vig)}px rgba(${0}, ${255}, ${0}, ${o}),
                    0px 0px ${80 -rand(70,80) *(vig)}px rgba(${255}, ${255}, ${255}, ${o}),
                    0px 0px ${60 -rand(50,60) *(vig)}px rgba(${255}, ${255}, ${0}, ${o}),
                    0px 0px ${50 -rand(40,50) *(vig)}px rgba(${255}, ${255}, ${255}, ${o}),
                    0px 0px ${40 -rand(30,40) *(vig)}px rgba(${0}, ${255}, ${255}, ${o}),
                    ${40*rand()*vig}px ${5*rand()}px 3px rgba(${255}, ${0}, ${0}, ${o}),
                    ${20*rand()*vig}px ${5*rand()}px 3px rgba(${0}, ${255}, ${255}, ${o})`
            }
            
            duck.style.fontSize = 24+Math.random()*1 + 'px';
            duck.style.color = `rgba(${255}, ${220+35*Math.random()}, ${200}, 255)`;
            // duck.style.transform = `translate(${dx}px, ${dy}px) translate(-50%, -50%) scaleX(${Math.cos(duckrot)})`;
            duck.style.transform = `translate(${vx}px, ${vy - 0.01*dim/t}px) translate(-50%, -100%) scale(${Math.cos(duckrot)}, ${1-0.2*Math.abs(vert)}) skewY(${Math.sin(duckrot)*vert*0.5}rad)`;
            duck.style.textShadow = perf ? shad() : `0px 0px ${rand(20,50)}px rgba(${rand(0, 150)}, ${rand(200, 255)}, ${rand(0, 150)}, 1)`

            // text :

            let dist = Math.max(75,dim/10)
            let stiff = 0.5
            t1.style.transform = `translate(${((1+stiff)*cx+(1-stiff)*vx)/2 - dim/100*Math.sin(t)}px, ${cy - dim/100*Math.sin(0.8*t) + 0.5*dist + 0.01*dim/t}px) translate(-50%, -100%)`
            t1.style.textShadow = perf ? shad(0.5, h2 - t1hov*0.5) : `0px 0px ${rand(20,50)}px rgba(${rand(0, 150)}, ${rand(200, 255)}, ${rand(0, 150)}, 1)`
            t1.style.textDecoration = `none`
            t1.style.color = `rgba(${rand(255, 255*(1-t1hov))}, 255, ${rand(255, 255*(1-t1hov))}, ${0.5 + 0.5*t1hov})`
            t1r = t1.getBoundingClientRect()

            stiff = (stiff+1)/2
            t2.style.transform = `translate(${((1+stiff)*cx+(1-stiff)*vx)/2 - dim/100*Math.sin(-0.8*t)}px, ${cy - dim/100*Math.sin(-0.5*t) + dist + 0.01*dim/t}px) translate(-50%, -100%)`
            t2.style.textShadow = perf ? shad(0.5, h2 - t2hov*0.5) : `0px 0px ${rand(20,50)}px rgba(${rand(0, 150)}, ${rand(200, 255)}, ${rand(0, 150)}, 1)`
            t2.style.textDecoration = `none`
            t2.style.color = `rgba(${rand(255, 255*(1-t2hov))}, ${rand(255, 255*(1-t2hov))}, 255, ${0.5 + 0.5*t2hov})`

            // glow :

            leftbudge = 0
            rightbudge = (teensy ? h()/2 : w()/3)*budgingright
            let marg = dim/16
            o2 = budgingright*2-1

            // rightdesc.style.width = rightbudge + 10 + 'px';

            // glow.style.transform = `translate(0, 0%)`
            glow.style.boxShadow = `
                inset 0 0 ${rand(1,2)*dim/100}px ${marg}px rgba(0, 0, 0, 255),
                inset 0 0 ${dim/2}px ${(Math.sin(t)*0.1+0.9)*dim/3}px rgba(${rand(200,210)}, ${rand(200,210)}, ${rand(240,255)}, ${Math.random()*0.01+(0.1*Math.sin(t*2)+2)*0.03})`;
            glow.innerHTML = `<div style="width: ${w()}px;
                    height: ${h()}px;
                    background: url('noise.gif');
                    background-size: 200% 100%; 
                    background-position: center;
                    background-repeat: no-repeat;
                    opacity: 0.01;
                "></div>`


            // right flipper for the thing :
            cam.style.transform = `translate(${ (!teensy) ? (w()-marg*2 + dim/10*budgingright + 10/t) : (w()/2) }px, ${ (!teensy) ? (h()/2) : (h()-marg*2 + dim/10*budgingright + 10/t) }px) translate(-50%, -50%) scale(${dim/30}%) rotate(${90*teensy}deg)`
            cam.style.filter = (perf ? `
                drop-shadow(${10*rand()}px ${10*rand()}px 20px rgba(${rand(100,150)}, 255, ${rand(100,150)}, ${0.5-budgingright})) 
                drop-shadow(5px 5px 5px rgba(0, 255, 0, ${0.5-budgingright})) ` : ``
                ) + `opacity(${0.2*(1-budgingright)})`

            // right thing :

            rightdesc.style.boxShadow   = `0 0 ${rand(1,2)*dim/100}px ${0}px rgba(0, 0, 0, 255)`
            rightdesc.style.background  = `rgba(0, 0, 0, 255)`
            rightdesc.style.height      = (teensy ? (rightbudge + 10) : h()) + `px`;
            rightdesc.style.width       = (teensy ? w() : (rightbudge + 10)) + 'px';
            rightdesc.style.transform   = `translate(${teensy ? (-w()): -(rightbudge+marg)}px, ${teensy ? h()-(rightbudge+marg) : 0}px)`
            rdc.style.color = `rgba(255, 255, 255, ${o2} )`
            rdc.style.textShadow = perf ? `
                ${8*rand()}px ${5*rand()}px 3px rgba(${0}, ${0.5*(Math.sin(t)+0.5)*128}, ${(1-0.5*(Math.sin(t)+0.5))*255}, ${o2}),
                0px 0px ${rand(10,20)}px rgba(${255}, ${255}, ${255}, ${o2})` : ``
            rdcMotd.style.width = (teensy ?  w()-rdcpad*2 : rightbudge-rdcpad*1) + `px`;
            rdcMotd.style.height = (teensy ?  w()*0.1 : rightbudge*0.1) + `px`;
            rdcMotd.style.background = `url('motd.png')`;
            rdcMotd.style.backgroundSize = 'cover';
            rdcMotd.style.backgroundPosition = 'center';

            t += dt;
            setTimeout(animate, 1000/fps)
        }

        animate();
    </script>
</body>
</html>



<!-- 




,.,,.,,v,.v,.V.v,.,,.,v,.,.v.,.V,..
.  `  `
- v ,  `, _
           \_______.-------  

 -->